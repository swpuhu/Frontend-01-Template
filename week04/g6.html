<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Tutorial Demo</title>
</head>

<body>
    <div id="mountNode"></div>
    <script src="./g6.js"></script>
    <script src="./allObject.js"></script>
    <script>
        const graph = new G6.Graph({
            container: 'mountNode',
            width: window.innerWidth,
            height: window.innerHeight,
            modes: {
                default: ['drag-canvas']
            },
            defaultNode: {
                size: 30,
                type: 'rect',
                labelCfg: {
                    autoRotate: true,
                    style: {
                        fill: '#000'
                    }
                },
            },
            defaultEdge: {
                labelCfg: {
                    autoRotate: true,
                    style: {
                        fill: '#000'
                    }
                },
            },
            layout: {
                type: 'dagre',
                rankdir: 'TB',
                nodesep: 20,
            },
        });
        const main = async () => {
            const response = await fetch(
                'https://gw.alipayobjects.com/os/basement_prod/6cae02ab-4c29-44b2-b1fd-4005688febcb.json',
            );
            let remoteData = await response.json();
            remoteData = data;
            const nodes = remoteData.nodes;
            const edges = remoteData.edges;
            nodes.forEach(node => {
                if (!node.style) {
                    node.style = {};
                }
                node.style.lineWidth = 1;
                node.style.stroke = '#666';
                node.style.fill = 'steelblue';
                node.type = 'rect';
            });
            edges.forEach(edge => {
                if (!edge.style) {
                    edge.style = {};
                }
                edge.style.lineWidth = edge.weight;
                edge.style.opacity = 0.6;
                edge.style.stroke = 'grey';
            });

            graph.data(remoteData);
            graph.render();
        };
        main();
    </script>
</body>

</html>